

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Needed Software &mdash; Enotes CouchApp Tutorial v0.2 documentation</title>
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.2',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="Enotes CouchApp Tutorial v0.2 documentation" href="index.html" />
    <link rel="next" title="First Steps with CouchAPP" href="2-Start.html" />
    <link rel="prev" title="Welcome to the CouchApp Tutorial!" href="index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="2-Start.html" title="First Steps with CouchAPP"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Welcome to the CouchApp Tutorial!"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">Enotes CouchApp Tutorial v0.2 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="needed-software">
<h1>Needed Software<a class="headerlink" href="#needed-software" title="Permalink to this headline">¶</a></h1>
<p>Here will be explained what software to use and why. This page gives only a small overview of the capabilities of software used for CouchApps. For a more detailed explanation please refer to tutorials written specifically for each individual software.</p>
<p>For our application, we need three types of information:</p>
<blockquote>
<div><ul class="simple">
<li>Layout</li>
<li>Data</li>
<li>Program Logic</li>
</ul>
</div></blockquote>
<p>For this we will only use software and software-principles that are also used in current state of the art web development projects:</p>
<blockquote>
<div><ul class="simple">
<li>HTML &amp; CSS</li>
<li>JavaScript (including JSON, jQuery and evently)</li>
<li>moustache</li>
<li>CouchDB</li>
</ul>
</div></blockquote>
<p>The responsibilities of different pieces of software can be seen like this:</p>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="60%" />
</colgroup>
<thead valign="bottom">
<tr><th class="head">Part of Application</th>
<th class="head">Techniques used</th>
</tr>
</thead>
<tbody valign="top">
<tr><td>Layout</td>
<td>HTML, CSS, jQuery, mustache</td>
</tr>
<tr><td>Data</td>
<td>JSON, evently</td>
</tr>
<tr><td>Program Logic</td>
<td>JavaScript, jQuery, evently</td>
</tr>
</tbody>
</table>
<div class="section" id="html-css">
<h2>HTML &amp; CSS<a class="headerlink" href="#html-css" title="Permalink to this headline">¶</a></h2>
<p>Everyone involved in web-programming knows HTML at least to some extent. In the CouchApp context, this <cite>HyperTextMarkupLanguage</cite> is used to describe the user interface and design of the application.
It can easily be stored inside the CouchDB as an <strong>attachment</strong> and accessed by a single URL.</p>
<p>Example:</p>
<div class="highlight-html"><div class="highlight"><pre><span class="nt">&lt;html&gt;</span>
        <span class="nt">&lt;head&gt;</span>

        <span class="nt">&lt;/head&gt;</span>
        <span class="nt">&lt;body&gt;</span>
                <span class="nt">&lt;a&gt;</span>Lore ipsum<span class="nt">&lt;/a&gt;</span>
        <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</pre></div>
</div>
<p>HTML holds the <strong>layout</strong> of the CouchApp.</p>
</div>
<div class="section" id="javascript">
<h2>JavaScript<a class="headerlink" href="#javascript" title="Permalink to this headline">¶</a></h2>
<p>Since HTML does not allow any program
logic or multidirectional interaction to be implemented by itself, JavaScript is used to accieve this goal. This is only logical because it is natively supported by various browsers on different systems.
JavaScript code can be stored inside the CouchDB as <strong>part of CouchDB - documents</strong> and accessed via the REST interface.</p>
<p>Example:</p>
<div class="highlight-js"><div class="highlight"><pre><span class="kd">function</span> <span class="nx">testFunction</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">alert</span><span class="p">(</span><span class="s2">&quot;This is just a test.&quot;</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<p>JavaScript is responsible for <strong>storing the logic</strong> of the program.</p>
<div class="section" id="json">
<h3>JSON<a class="headerlink" href="#json" title="Permalink to this headline">¶</a></h3>
<p>There exists a standard notation for describing data in JavaScript. It is called <cite>JavaScriptObjectNotation</cite>.
Actually, this is just a data container (variable) in pure JavaScript.</p>
<p>Example:</p>
<div class="highlight-js"><div class="highlight"><pre><span class="p">{</span>
        <span class="s2">&quot;Entry1&quot;</span> <span class="o">:</span> <span class="s2">&quot;Value1&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Entry2&quot;</span> <span class="o">:</span> <span class="s2">&quot;Value2&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Entry3&quot;</span> <span class="o">:</span> <span class="s2">&quot;2649&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Entry4&quot;</span> <span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
        <span class="s2">&quot;Entry5&quot;</span> <span class="o">:</span> <span class="p">[</span> <span class="s2">&quot;blue&quot;</span><span class="p">,</span> <span class="s2">&quot;green&quot;</span><span class="p">,</span> <span class="s2">&quot;red&quot;</span> <span class="p">],</span>
        <span class="s2">&quot;Entry6&quot;</span> <span class="o">:</span> <span class="kc">null</span>
<span class="p">}</span>
</pre></div>
</div>
<p>JSON entries can also be nested:</p>
<div class="highlight-js"><div class="highlight"><pre><span class="p">{</span>
        <span class="s2">&quot;Entry1&quot;</span> <span class="o">:</span> <span class="s2">&quot;Value1&quot;</span>
        <span class="s2">&quot;Entry2&quot;</span> <span class="o">:</span> <span class="s2">&quot;Value2&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Entry3&quot;</span> <span class="o">:</span> <span class="p">{</span>
                <span class="s2">&quot;SubEntry1&quot;</span> <span class="o">:</span> <span class="s2">&quot;Value3&quot;</span><span class="p">,</span>
                <span class="s2">&quot;SubEntry2&quot;</span> <span class="o">:</span> <span class="mi">342</span>
        <span class="p">},</span>
        <span class="s2">&quot;Entry4&quot;</span> <span class="o">:</span> <span class="s2">&quot;Value4&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>JSON is used whenever information is processed. This covers <strong>data</strong> or <strong>program logic</strong>.</p>
</div>
<div class="section" id="jquery-mobile">
<h3>jQuery (mobile)<a class="headerlink" href="#jquery-mobile" title="Permalink to this headline">¶</a></h3>
<p>jQuery is a JavaScript library that simplifies access to the DOM structure of HTML documents. It also offeres standardised ways to access functions that differ with different browsers and offeres additional effects for the design of HTML pages.</p>
<p>jQuery syntax example:</p>
<div class="highlight-js"><div class="highlight"><pre><span class="nx">$</span><span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">).</span><span class="nx">click</span><span class="p">(</span>
        <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
                <span class="nx">alert</span><span class="p">(</span><span class="s2">&quot;This is just a test.&quot;</span><span class="p">);</span>
        <span class="p">}</span>
<span class="p">);</span>
</pre></div>
</div>
<p>This code means that whenever you click on an element of the HTML page that is formatted with an <tt class="docutils literal"><span class="pre">&lt;a&gt;</span></tt> tag (basically every normal text or hyperlink) the function <tt class="docutils literal"><span class="pre">function(){</span> <span class="pre">alert(&quot;This</span> <span class="pre">is</span> <span class="pre">just</span> <span class="pre">a</span> <span class="pre">test.&quot;);</span> <span class="pre">}</span></tt> is executed.
The useage of jQuery with CouchApp is mainly supported by its standardising and graphical powers. It is mainly responsible for the <strong>layout</strong>.
We will use a specialized mobile - version of jQuery called <em>jQuery mobile</em>.</p>
</div>
<div class="section" id="jquery-ui-css">
<h3>jQuery UI CSS<a class="headerlink" href="#jquery-ui-css" title="Permalink to this headline">¶</a></h3>
<p>The jQuery UI CSS is a simple css template which facilitates the creation of custom control elements in a html page.
There is also a mobile - version available which will be used in our context.</p>
<p><a class="reference external" href="http://jqueryui.com/">http://jqueryui.com/</a></p>
</div>
<div class="section" id="evently">
<h3>evently<a class="headerlink" href="#evently" title="Permalink to this headline">¶</a></h3>
<p>Evently is a wrapper for jQuery functions. It facilitates the manipulation and addition of event handlers to DOM elements. It also has a mustache parser and allows to apply them via ajax requests.</p>
<p>Basic Example:</p>
<div class="highlight-js"><div class="highlight"><pre><span class="nx">$</span><span class="p">(</span><span class="s2">&quot;exampleDOMobject&quot;</span><span class="p">).</span><span class="nx">evently</span><span class="p">(</span> <span class="p">{</span>
        <span class="nx">click</span> <span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
                <span class="nx">alert</span><span class="p">(</span><span class="s2">&quot;This is a Test.&quot;</span><span class="p">);</span>
                <span class="p">},</span>
        <span class="nx">mouseenter</span> <span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
                <span class="nx">alert</span><span class="p">(</span><span class="s2">&quot;This is ANOTHER Test.&quot;</span><span class="p">);</span>
                <span class="p">}</span>
        <span class="p">}</span>
<span class="p">);</span>
</pre></div>
</div>
<p>Here we can see a structure similar to a JSON object that defines different functions for different events.
The purpose of evently with CouchApps lies within the <strong>program logic</strong> and <strong>data</strong> handling.</p>
</div>
</div>
<div class="section" id="mustache">
<h2>mustache<a class="headerlink" href="#mustache" title="Permalink to this headline">¶</a></h2>
<p>Mustache is another JavaScript library that lets us insert placeholders in HTML (or any other text). These are specified by <tt class="docutils literal"><span class="pre">{{</span></tt> at the beginning of the placeholder and <tt class="docutils literal"><span class="pre">}}</span></tt> at the end.
Take this example for a template text with placeholders like <tt class="docutils literal"><span class="pre">{{city}}</span></tt> or <tt class="docutils literal"><span class="pre">{{temperature_c}}</span></tt>:</p>
<div class="highlight-html"><div class="highlight"><pre>You are at {{city}}.
The temperature is {{temperature_c}} degrees C!
{{#in_f}}
        In Fahrenheit this would be {{temperature_f}}
{{/in_f}}
</pre></div>
</div>
<p>The reason this tool is used is that it takes JSON objects as input and inserts its values into placeholders of corresponding name.</p>
<p>The lines between <tt class="docutils literal"><span class="pre">{{#in_f}}</span></tt> and <tt class="docutils literal"><span class="pre">{{/in_f}}</span></tt> are only rendered when the variable <tt class="docutils literal"><span class="pre">&quot;in_f&quot;</span></tt> is set to <tt class="docutils literal"><span class="pre">true</span></tt>.</p>
<p>This is the JSON object that is fed into the mustache parser:</p>
<div class="highlight-js"><div class="highlight"><pre><span class="p">{</span>
        <span class="s2">&quot;city&quot;</span><span class="o">:</span> <span class="s2">&quot;Vienna&quot;</span><span class="p">,</span>
        <span class="s2">&quot;temperature&quot;</span><span class="o">:</span> <span class="mi">22</span><span class="p">,</span>
        <span class="s2">&quot;temperature_f&quot;</span><span class="o">:</span> <span class="p">(</span> <span class="p">(</span><span class="mi">22</span> <span class="o">*</span> <span class="mi">9</span><span class="p">)</span> <span class="o">/</span> <span class="mi">5</span> <span class="p">)</span> <span class="o">+</span> <span class="mi">32</span><span class="p">,</span>
        <span class="s2">&quot;in_f&quot;</span><span class="o">:</span> <span class="kc">true</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Every <tt class="docutils literal"><span class="pre">{{city}}</span></tt> in our template HTML is replaced by the value of the <tt class="docutils literal"><span class="pre">city</span></tt> tag in the JSON object. In this case, the substitute would be <tt class="docutils literal"><span class="pre">Vienna</span></tt>.
As you can see by <tt class="docutils literal"><span class="pre">&quot;temperature_f&quot;</span></tt>, you may also put simple formulas as values (like <tt class="docutils literal"><span class="pre">(</span> <span class="pre">(22</span> <span class="pre">*</span> <span class="pre">9)</span> <span class="pre">/</span> <span class="pre">5</span> <span class="pre">)</span> <span class="pre">+</span> <span class="pre">32</span></tt> in this case) .
The final output of the template and the JSON object would look like this:</p>
<div class="highlight-html"><div class="highlight"><pre>You are at Vienna.
The temperature is 22 degrees C!
In Fahrenheit this would be 71.6
</pre></div>
</div>
<p>Mustache is perfectly suited for our needs because we will receive data our CouchApp requests from the CouchDB as JSON objects.</p>
</div>
<div class="section" id="couchdb">
<h2>CouchDB<a class="headerlink" href="#couchdb" title="Permalink to this headline">¶</a></h2>
<p>CouchDB is the heart of every CouchApp. It is the storage of and interface to every bit of information. One does not need to gain knowledge of or implement a specific API since CouchDB uses simple HTTP requests to deliver data in JSON format. Attached files (like HTML or images) can be accessed by a specifically formatted URL.</p>
<div class="highlight-html"><div class="highlight"><pre>http://127.0.0.1:5984/
</pre></div>
</div>
<p>This will give you a welcome message, the version of the database and possibly various other meta information in JSON format:</p>
<div class="highlight-js"><div class="highlight"><pre><span class="p">{</span>
        <span class="s2">&quot;couchdb&quot;</span> <span class="o">:</span> <span class="s2">&quot;Welcome&quot;</span><span class="p">,</span>
        <span class="s2">&quot;version&quot;</span> <span class="o">:</span> <span class="s2">&quot;1.1.0&quot;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
<p>To get a list of all available databases, one would request:</p>
<div class="highlight-html"><div class="highlight"><pre>http://127.0.0.1:5984/_all_dbs
</pre></div>
</div>
<p>To access previously attached files, only a specific URL is necessary. It is composed of the base URL (<tt class="docutils literal"><span class="pre">http://127.0.0.1:5984</span></tt>), the database name (<tt class="docutils literal"><span class="pre">/albums</span></tt>), the ID of the database document the file is attached to (<tt class="docutils literal"><span class="pre">/6e1295ed6c29495e54cc05947f18c8af</span></tt>) and, at last, the filename itself (<tt class="docutils literal"><span class="pre">/artwork.jpg</span></tt>):</p>
<div class="highlight-html"><div class="highlight"><pre>http://127.0.0.1:5984/albums/6e1295ed6c29495e54cc05947f18c8af/artwork.jpg
</pre></div>
</div>
<p>CouchDB will not be explained in detail. For more information please refer to the excellent free online book <a class="reference external" href="http://guide.couchdb.org/index.html">&#8220;The Definitive Guide to CouchDB&#8221;</a>.</p>
</div>
<div class="section" id="couchapp">
<h2>CouchApp<a class="headerlink" href="#couchapp" title="Permalink to this headline">¶</a></h2>
<p>CouchApp itself is not only the name for the concept of storing an application inside an CouchApp, but also an application that helps us create CouchApps.</p>
<p><a class="reference external" href="http://couchapp.org/page/what-is-couchapp">http://couchapp.org/page/what-is-couchapp</a></p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Needed Software</a><ul>
<li><a class="reference internal" href="#html-css">HTML &amp; CSS</a></li>
<li><a class="reference internal" href="#javascript">JavaScript</a><ul>
<li><a class="reference internal" href="#json">JSON</a></li>
<li><a class="reference internal" href="#jquery-mobile">jQuery (mobile)</a></li>
<li><a class="reference internal" href="#jquery-ui-css">jQuery UI CSS</a></li>
<li><a class="reference internal" href="#evently">evently</a></li>
</ul>
</li>
<li><a class="reference internal" href="#mustache">mustache</a></li>
<li><a class="reference internal" href="#couchdb">CouchDB</a></li>
<li><a class="reference internal" href="#couchapp">CouchApp</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="index.html"
                        title="previous chapter">Welcome to the CouchApp Tutorial!</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="2-Start.html"
                        title="next chapter">First Steps with CouchAPP</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/1-UsedSoftware.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" size="18" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="2-Start.html" title="First Steps with CouchAPP"
             >next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Welcome to the CouchApp Tutorial!"
             >previous</a> |</li>
        <li><a href="index.html">Enotes CouchApp Tutorial v0.2 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2011, Markus Mayr.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.0.7.
    </div>
  </body>
</html>